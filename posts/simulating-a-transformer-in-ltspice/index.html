<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTMLDocument</title>
<link rel="stylesheet" href="../../assets/main.css">
</head>
<body>
<div class="container"><header class="header">
                        <span class="header__inner">
                                
            <div class="logo">
                    <span class="logo__mark">></span>
                    <span class="logo__text">cd ~</span>
                    <span class="logo__cursor"
                    style="background-color:#008080;animation-duration:0.75s;">
                    </span>
            </div>
                                    <span class="header__right">
                                          <nav class="menu">
                <ul class="menu__inner">
                  <li><a href="posts">Drafts</a></li>
                  <li><a href="mirage">Mirage</a></li>
                  <li><a href="photos">Photography</a></li>
                </ul>
            </nav>
                                    </span>
                        </span>
                        </header>
                    <div style="margin: 0 auto; width: 50%;">
                    <hr />
<p>layout: post
title: "Simulating a transformer in LT-spice"
date: 2020-11-17
categories: [electronics]</p>
<hr />
<h1>Simulating a transformer in LTSpice</h1>
<p>In LTSpice, there is no transformer component per say; however, a transformer is really just a pair of inductors. This means that we can simulate a transformer in spice by creating two or more inductors and specifying their mutual inductance via a spice directive. Before we do that, recall that the voltage ratio of the primary and secondary windings of a transformer is given by:</p>
<p>\begin{align}
\frac{V_{2}}{V_{1}} = \frac{N_{2}}{N_{1}}
\end{align}</p>
<p>where $N_{i}$ is the number of turns of that winding. But in LTSpice, we control the inductance $L$, so we have to use the relation of inductance to the number of turns:</p>
<p>\begin{align}
L = \frac{N^{2}\mu A}{I}
\end{align}</p>
<p>This means that, for a given voltage ratio, we need an inductance ratio that satisfies:</p>
<p>\begin{align}
\frac{V_{2}}{V_{1}} \propto \sqrt{\frac{L_{2}}{L_{1}}}
\end{align}</p>
<p>Let's say we want a step-up transformer with a voltage ratio of 10 i.e. an inductance ratio of 100. We can realize this with a pair of 1mH and 100mH inductors. We will drive the primary winding of this transformer with a $10V$ AC signal with frequency 60Hz through a resistance $R_{2} = 10\Omega$. The secondary also has a series resistance $R_{1} = 100\Omega$. The primary winding of the transformer is really just an RL circuit with total impedance:</p>
<p>\begin{align}
|Z| = \sqrt{R^{2} + (\omega L)^{2}} = 10\Omega
\end{align}</p>
<p>The impedance of the inductor alone is:</p>
<p>\begin{align}
X_{L} = \omega L = 3.75 \Omega
\end{align}</p>
<p>Knowing the current through the primary winding:</p>
<p>\begin{align}
I = \frac{V}{|Z|} = 1A
\end{align}</p>
<p>so the voltage across the inductor is $375mV$ which is roughly what we observe in the plot below. Now, since we have chosen inductances for a voltage ratio of 100, we should have an output voltage of 3.75V, which is the case. The last thing to note is the half-cycle phase shift between the input and output voltages - food for thought.</p>
<p><img src="../../images/transformer-ex.png" width="600"/></p>
<p><img src="../../images/transformer-ex-plt.png" width="600"/></p>
<p>```code</p>
<p>```</p>
                    </div>
                 <script>
                  MathJax = {
                    tex: {
                      inlineMath: [['$', '$'], ['\(', '\)']],
                      displayMath: [['$$','$$'], ['\[', '\]']],
                      processEscapes: true,
                      processEnvironments: true
                    },
                    options: {
                      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
                    }
                  };

                  window.addEventListener('load', (event) => {
                      document.querySelectorAll("mjx-container").forEach(function(x){
                        x.parentElement.classList += 'has-jax'})
                    });

                </script></div></body>
</html>
