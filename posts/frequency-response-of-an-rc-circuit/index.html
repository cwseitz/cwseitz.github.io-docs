<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTMLDocument</title>
<link rel="stylesheet" href="../../assets/main.css">
</head>
<body>
<div class="container"><header class="header">
                        <span class="header__inner">
                                
            <div class="logo">
                    <span class="logo__mark">></span>
                    <span class="logo__text">cd ~</span>
                    <span class="logo__cursor"
                    style="background-color:#008080;animation-duration:0.75s;">
                    </span>
            </div>
                                    <span class="header__right">
                                          <nav class="menu">
                <ul class="menu__inner">
                  <li><a href="posts">Drafts</a></li>
                  <li><a href="mirage">Mirage</a></li>
                  <li><a href="photos">Photography</a></li>
                </ul>
            </nav>
                                    </span>
                        </span>
                        </header>
                    <div style="margin: 0 auto; width: 50%;">
                    <hr />
<p>layout: post
title: "RC frequency response"
date: 2020-11-17
categories: [electronics]</p>
<hr />
<h1>Frequency response of an RC circuit</h1>
<p>The RC circuit can behave in different ways, depending on how we probe it. To achieve a low-pass configuration, we can probe the voltage across the capacitor. In that configuration, high frequencies are bled to ground through the cap. If we decide to swap the components like the figure the right, we have a high-pass filter, where low frequencies are bled to ground instead.</p>
<p><img src="../../images/lpf-hpf.png" width="600"/></p>
<p>Left on its own, the current through the circuit is exactly the same for both scenarios and can be found in another post on LRC analysis:</p>
<p>\begin{align}
I = \frac{V_{in}}{R + \frac{1}{j\omega C}}
\end{align}</p>
<p>We use this expression when examining both the low-pass and high-pass cases even though the wiring appears different. It it is interesting to note that you can wire the two devices in series with the source and whether you measure the voltage over the resistor or the capacitor determines whether it is a high-pass or low-pass circuit, respectively.</p>
<h1>RC Low-Pass Filter (LPF)</h1>
<p>Ultimately we want to come up with the <em>transfer function</em> for an RC low-pass circuit. The transfer function $H(\omega)$ is simply the ratio of the output and input voltages as a function of frequency. Determining what that function is requires that we utilize the <em>impedance</em> for the RC device.</p>
<p>\begin{align}
H(\omega) = \frac{V_{out}}{V_{in}}
\end{align}</p>
<p>Using the current from above we can write:</p>
<p>\begin{align}
V_{out} = IX_{C} = \frac{V_{in}}{j\omega C(R + \frac{1}{j\omega C})}
\end{align}</p>
<p>Since the transfer function is only the ratio of output to input</p>
<p>\begin{align}
H(\omega) = \frac{1}{1 + j\omega RC}
\end{align}</p>
<p>Notice that the transfer function is complex. We need to find its magnitude which is commonly referred to as the <em>gain</em> of the circuit.</p>
<p>\begin{align}
|H(\omega)| = \frac{1}{\sqrt{1 + (\omega RC)^{2}}}
\end{align}</p>
<p>Now, we can plot the gain as a function of frequency.</p>
<p>```code
import numpy as np
import matplotlib.pyplot as plt</p>
<p>def rc_transfer(w, R=0.1, C=0.1):
    h = 1/np.sqrt(1+(w<em>R</em>C)**2)
    return h</p>
<p>w = np.linspace(0, 10e4, 100)
h = rc_transfer(w, R=22e3, C=2.2e-9)</p>
<p>plt.plot(w, h)
plt.ylabel('Gain')
plt.xlabel('Angular Frequency')
plt.show()
```</p>
<p><img alt="png" src="frequency-response-of-an-rc-circuit_files/frequency-response-of-an-rc-circuit_1_0.png" /></p>
<h1>RC High-Pass Filter (HPF)</h1>
<p>Again, we want to come up with the transfer function this time for a RC high-pass circuit. The only difference is that the output voltage is measured accross the resistor this time:</p>
<p>\begin{align}
V_{out} = \frac{V_{in}R}{R + \frac{1}{j\omega C}}
\end{align}</p>
<p>\begin{align}
H(\omega) = \frac{R}{R + \frac{1}{j\omega C}} = \frac{j\omega RC}{1 + j\omega RC}
\end{align}</p>
<p>As before, we use the complex form of the transfer function to calculate the gain:</p>
<p>\begin{align}
|H(\omega)| = \frac{\omega RC}{\sqrt{1 + (\omega RC)^{2}}}
\end{align}</p>
<p>Now, we can plot the gain as a function of frequency.</p>
<p>```code
import numpy as np
import matplotlib.pyplot as plt</p>
<p>def rc_transfer(w, R=0.1, C=0.1):
    h = w<em>R</em>C/np.sqrt(1+(w<em>R</em>C)**2)
    return h</p>
<p>w = np.linspace(0, 10e4, 100)
h = rc_transfer(w, R=22e3, C=2.2e-9)</p>
<p>plt.plot(w, h)
plt.ylabel('Gain')
plt.xlabel('Angular Frequency')
plt.show()
```</p>
<p><img alt="png" src="frequency-response-of-an-rc-circuit_files/frequency-response-of-an-rc-circuit_3_0.png" /></p>
<p>```code</p>
<p>```</p>
                    </div>
                 <script>
                  MathJax = {
                    tex: {
                      inlineMath: [['$', '$'], ['\(', '\)']],
                      displayMath: [['$$','$$'], ['\[', '\]']],
                      processEscapes: true,
                      processEnvironments: true
                    },
                    options: {
                      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
                    }
                  };

                  window.addEventListener('load', (event) => {
                      document.querySelectorAll("mjx-container").forEach(function(x){
                        x.parentElement.classList += 'has-jax'})
                    });

                </script></div></body>
</html>
